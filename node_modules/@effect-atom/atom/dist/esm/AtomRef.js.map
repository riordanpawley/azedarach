{"version":3,"file":"AtomRef.js","names":["Equal","globalValue","Hash","TypeId","make","value","AtomRefImpl","collection","items","CollectionImpl","keyState","count","generate","ReadonlyRefImpl","key","constructor","symbol","that","equals","hash","listeners","listenerCount","notify","a","i","subscribe","f","push","index","indexOf","pop","map","MapRefImpl","prop","PropRefImpl","set","update","parent","transform","previous","next","_prop","Array","isArray","newArray","slice","item","makeRef","ref","Proxy","get","target","p","_receiver","insertAt","splice","remove","toArray"],"sources":["../../src/AtomRef.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}